AUTHOR = "Ubuntu"
NAME = "ubuntu_performance_lkp"
CRITERIA = """
Performace Regression Tests using lkp"
"""
SUITE = "None"
TIME = "SHORT"
TEST_CLASS = 'kernel'
TEST_CATEGORY = 'Benchmark'
TEST_TYPE = "client"
DOC = ""

name = 'ubuntu_performance_lkp'

lkp_jobs = {
    'aim9.yaml':
        [ 'aim9-300s-brk_test.yaml',
          'aim9-300s-dgram_pipe.yaml',
          'aim9-300s-exec_test.yaml',
          'aim9-300s-fork_test.yaml',
          'aim9-300s-link_test.yaml',
          'aim9-300s-page_test.yaml',
          'aim9-300s-pipe_cpy.yaml',
          'aim9-300s-shared_memory.yaml',
          'aim9-300s-signal_test.yaml',
          'aim9-300s-stream_pipe.yaml',
          'aim9-300s-tcp_test.yaml',
          'aim9-300s-udp_test.yaml' ],
    'cassandra.yaml':
        [ 'cassandra-cs-localhost-300s-3.yaml' ],
    'dbench.yaml':
        [ 'dbench-100%.yaml' ],
    'ebizzy.yaml':
        [ 'ebizzy-200%-100x-10s.yaml' ],
    'hackbench.yaml':
        [ 'hackbench-100.yaml',
          'hackbench-8.yaml',
          'hackbench-perf.yaml' ],
    'iperf.yaml':
        [ 'iperf-300s-cs-localhost-udp.yaml',
          'iperf-300s-cs-localhost-tcp.yaml' ],
    'linpack.yaml':
        [ 'linpack-defaults.yaml' ],
    'perf-bench-futex.yaml':
	[ 'perf-bench-futex-300s-100%-hash-shared.yaml',
	  'perf-bench-futex-300s-100%-hash.yaml',
          'perf-bench-futex-300s-100%-lock-pi-shared.yaml',
          'perf-bench-futex-300s-100%-lock-pi.yaml' ],
    'pxz.yaml':
        [ 'pxz-100%.yaml' ],
    'thrulay.yaml':
        [ 'thrulay-cs-localhost-300s.yaml' ],
    'vm-scalability.yaml':
        [ 'vm-scalability-300s-lru-file-mmap-read-rand.yaml',
          'vm-scalability-300s-lru-file-mmap-read.yaml',
          'vm-scalability-300s-mmap-pread-rand-mt.yaml',
          'vm-scalability-300s-mmap-pread-rand.yaml',
          'vm-scalability-300s-mmap-pread-seq-mt.yaml',
          'vm-scalability-300s-mmap-pread-seq.yaml',
          'vm-scalability-300s-mmap-xread-rand-mt.yaml',
          'vm-scalability-300s-mmap-xread-seq-mt.yaml',
          'vm-scalability-300s-mremap-xread-rand-mt.yaml' ],
}

results = job.run_test_detail(name, tag='setup', lkp_job = 'setup', sub_job = 'setup', lkp_jobs = lkp_jobs)

for lkp_job in sorted(lkp_jobs):
    print "JOB '%s'" % lkp_job
    for sub_job in lkp_jobs[lkp_job]:
        results = job.run_test_detail(name, tag=sub_job, lkp_job = lkp_job, sub_job = sub_job, lkp_jobs = lkp_jobs)

# vi:set ts=4 sw=4 expandtab syntax=python:
